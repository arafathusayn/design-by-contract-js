!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).designByContract=n()}}((function(){return function n(t,r,o){function i(a,f){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!f&&s)return s(a,!0);if(e)return e(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};t[a][0].call(u.exports,(function(n){return i(t[a][1][n]||n)}),u,u.exports,n,t,r,o)}return r[a].exports}for(var e="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(n,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.attachContracts=void 0;const o=(n,t)=>{let r=[];for(const o of n){if(!0!==(0,o[0])(o[1]))return r.push(new Error(o[2]||t)),r;r.push(!0)}return r},i=n=>{for(const t of n)if(t instanceof Error)return t},e=n=>i(o(n,"One of the invariants is violated.")),a=n=>i(o(n,"One of the preconditions is violated."));r.attachContracts=({fn:n,preconditions:t,postconditions:r,invariants:f})=>{let s=a([[()=>n instanceof Function,{fn:n},"First argument must be a function"],[()=>t&&t instanceof Array,{preconditions:t},"preconditions must be an array"],[()=>r&&r instanceof Array,{postconditions:r},"postconditions must be an array"],[()=>f&&f instanceof Array,{invariants:f},"invariants must be an array"],[()=>t instanceof Array&&!t.find(n=>!(n instanceof Array)),{preconditions:t},"preconditions must be an array of array"],[()=>r instanceof Array&&!r.find(n=>!(n instanceof Array)),{postconditions:r},"postconditions must be an array of array"],[()=>f instanceof Array&&!f.find(n=>!(n instanceof Array)),{invariants:f},"invariants must be an array of array"],[()=>t instanceof Array&&!t.find(n=>"function"!=typeof n[0]),{preconditions:t},"all preconditions have a function"],[()=>r instanceof Array&&!r.find(n=>"function"!=typeof n[0]),{postconditions:r},"all postconditions have a function"],[()=>f instanceof Array&&!f.find(n=>"function"!=typeof n[0]),{invariants:f},"all invariants have a function"]]);if(s instanceof Error)throw s;const c={apply:(n,s,c)=>{let u=a(t);if(u instanceof Error)return u;if(u=e(f),u instanceof Error)return u;const d=n(...c);return u=e(f),u instanceof Error?u:(u=i(o(r,"One of the postconditions is violated.")),u instanceof Error?u:d)}};return new Proxy(n,c)}},{}]},{},[1])(1)}));