!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).designByContract=n()}}((function(){return function n(r,t,o){function e(a,f){if(!t[a]){if(!r[a]){var s="function"==typeof require&&require;if(!f&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[a]={exports:{}};r[a][0].call(u.exports,(function(n){return e(r[a][1][n]||n)}),u,u.exports,n,r,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)e(o[a]);return e}({1:[function(n,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.functionByContract=void 0;const o=(n,r)=>{let t=[];for(const o of n){if(!0!==o[0]())return t.push(new Error(o[1]||r)),t;t.push(!0)}return t},e=n=>{for(const r of n)if(r instanceof Error)return r},i=n=>e(o(n,"One of the invariants is violated.")),a=n=>e(o(n,"One of the preconditions is violated."));t.functionByContract=({fn:n,preconditions:r,postconditions:t,invariants:f})=>{let s=a([[()=>n instanceof Function,"First argument must be a function"],[()=>r&&r instanceof Array,"preconditions must be an array"],[()=>t&&t instanceof Array,"postconditions must be an array"],[()=>f&&f instanceof Array,"invariants must be an array"],[()=>r instanceof Array&&!r.find(n=>!(n instanceof Array)),"preconditions must be an array of array"],[()=>t instanceof Array&&!t.find(n=>!(n instanceof Array)),"postconditions must be an array of array"],[()=>f instanceof Array&&!f.find(n=>!(n instanceof Array)),"invariants must be an array of array"],[()=>r instanceof Array&&!r.find(n=>"function"!=typeof n[0]),"all preconditions have a function"],[()=>t instanceof Array&&!t.find(n=>"function"!=typeof n[0]),"all postconditions have a function"],[()=>f instanceof Array&&!f.find(n=>"function"!=typeof n[0]),"all invariants have a function"]]);if(s instanceof Error)throw s;const c={apply:(n,s,c)=>{let u=a(r);if(u instanceof Error)return u;if(u=i(f),u instanceof Error)return u;const d=n(...c);return u=i(f),u instanceof Error?u:(u=e(o(t,"One of the postconditions is violated.")),u instanceof Error?u:d)}};return new Proxy(n,c)},t.default={functionByContract:t.functionByContract}},{}]},{},[1])(1)}));