!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).designByContract=n()}}((function(){return function n(t,e,o){function i(a,f){if(!e[a]){if(!t[a]){var c="function"==typeof require&&require;if(!f&&c)return c(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=e[a]={exports:{}};t[a][0].call(u.exports,(function(n){return i(t[a][1][n]||n)}),u,u.exports,n,t,e,o)}return e[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(n,t,e){"use strict";var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function a(n){try{c(o.next(n))}catch(n){r(n)}}function f(n){try{c(o.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(a,f)}c((o=o.apply(n,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.functionByContract=void 0;const i=(n,t)=>{for(const[e,o]of n){if(!1===e())throw new Error(o||t)}},r=n=>{i(n,"One of the invariants is violated.")},a=n=>{i(n,"One of the preconditions is violated.")},f=n=>{i(n,"One of the postconditions is violated.")};e.functionByContract=({fn:n,preconditions:t,postconditions:e,invariants:i,async:c,asyncFnArgs:s})=>{a([[()=>"function"==typeof n,"First argument must be a function"],[()=>t instanceof Array&&!t.find((n=>!(n instanceof Array))),"preconditions must be an array of array"],[()=>e instanceof Array&&!e.find((n=>!(n instanceof Array))),"postconditions must be an array of array"],[()=>i instanceof Array&&!i.find((n=>!(n instanceof Array))),"invariants must be an array of array"],[()=>t instanceof Array&&!t.find((n=>"function"!=typeof n[0])),"all preconditions have a function"],[()=>e instanceof Array&&!e.find((n=>"function"!=typeof n[0])),"all postconditions have a function"],[()=>i instanceof Array&&!i.find((n=>"function"!=typeof n[0])),"all invariants have a function"]]);if(!c){return new Proxy(n,{apply:(n,o,c)=>{a(t),r(i);const s=n(...c);return r(i),f(e),s}})}return()=>new Promise(((c,u)=>o(void 0,void 0,void 0,(function*(){let o;a(t),r(i);try{o=s instanceof Array?yield n(...s):yield n(),r(i),f(e),c(o)}catch(n){u(n)}}))))},e.default={functionByContract:e.functionByContract}},{}]},{},[1])(1)}));