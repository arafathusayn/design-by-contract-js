!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).designByContract=n()}}((function(){return function n(t,o,e){function i(a,f){if(!o[a]){if(!t[a]){var c="function"==typeof require&&require;if(!f&&c)return c(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=o[a]={exports:{}};t[a][0].call(u.exports,(function(n){return i(t[a][1][n]||n)}),u,u.exports,n,t,o,e)}return o[a].exports}for(var r="function"==typeof require&&require,a=0;a<e.length;a++)i(e[a]);return i}({1:[function(n,t,o){"use strict";var e=this&&this.__awaiter||function(n,t,o,e){return new(o||(o=Promise))((function(i,r){function a(n){try{c(e.next(n))}catch(n){r(n)}}function f(n){try{c(e.throw(n))}catch(n){r(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof o?t:new o((function(n){n(t)}))).then(a,f)}c((e=e.apply(n,t||[])).next())}))};Object.defineProperty(o,"__esModule",{value:!0}),o.functionByContract=void 0;const i=(n,t)=>{for(const[o,e]of n){if(!1===o())throw new Error(e||t)}},r=n=>{i(n,"One of the invariants is violated.")},a=n=>{i(n,"One of the preconditions is violated.")},f=n=>{i(n,"One of the postconditions is violated.")};o.functionByContract=({fn:n,preconditions:t,postconditions:o,invariants:i,async:c,asyncFnArgs:s})=>{a([[()=>"function"==typeof n,"First argument must be a function"],[()=>t instanceof Array&&!t.find((n=>!(n instanceof Array))),"preconditions must be an array of array"],[()=>o instanceof Array&&!o.find((n=>!(n instanceof Array))),"postconditions must be an array of array"],[()=>i instanceof Array&&!i.find((n=>!(n instanceof Array))),"invariants must be an array of array"],[()=>t instanceof Array&&!t.find((n=>"function"!=typeof n[0])),"all preconditions have a function"],[()=>o instanceof Array&&!o.find((n=>"function"!=typeof n[0])),"all postconditions have a function"],[()=>i instanceof Array&&!i.find((n=>"function"!=typeof n[0])),"all invariants have a function"]]);if(!c){return new Proxy(n,{apply:(n,e,c)=>{a(t),r(i);const s=n(...c);return r(i),f(o),s}})}return()=>new Promise(((c,u)=>e(void 0,void 0,void 0,(function*(){try{a(t),r(i);const e=s instanceof Array?yield n(...s):yield n();r(i),f(o),c(e)}catch(n){u(n)}}))))},o.default={functionByContract:o.functionByContract}},{}]},{},[1])(1)}));